Index: squid/helpers/basic_auth/SMB/smb_auth.c
diff -c squid/helpers/basic_auth/SMB/smb_auth.c:1.2.2.1 squid/helpers/basic_auth/SMB/smb_auth.c:1.2.2.2
*** squid/helpers/basic_auth/SMB/smb_auth.c:1.2.2.1	Sun Aug 11 19:13:42 2002
--- squid/helpers/basic_auth/SMB/smb_auth.c	Tue May 13 02:18:18 2003
***************
*** 215,220 ****
--- 215,223 ----
  	pass = s + 1;
  	domname = NULL;
  
+ 	rfc1738_unescape(user);
+ 	rfc1738_unescape(pass);
+ 
  	if ((s = strchr(user, '\\')) != NULL) {
  	    *s = '\0';
  	    domname = user;
***************
*** 236,243 ****
  	    (void) printf("ERR\n");
  	    continue;
  	}
- 	rfc1738_unescape(user);
- 	rfc1738_unescape(pass);
  	(void) fprintf(p, "%s\n", dom->name);
  	(void) fprintf(p, "%s\n", dom->passthrough);
  	(void) fprintf(p, "%s\n", dom->nmbaddr);
--- 239,244 ----
