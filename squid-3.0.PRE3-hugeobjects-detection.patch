Index: squid3/acinclude.m4
diff -c squid3/acinclude.m4:1.8 squid3/acinclude.m4:1.9
*** squid3/acinclude.m4:1.8	Mon Jul 28 14:41:02 2003
--- squid3/acinclude.m4	Mon Aug 18 18:15:01 2003
***************
*** 52,54 ****
--- 52,86 ----
  #include <sys/param.h>
  #endif
  ])
+ 
+ dnl
+ dnl thanks to autogen, for the template..
+ dnl
+ dnl @synopsis  AC_TEST_CHECKFORHUGEOBJECTS
+ dnl
+ dnl Test whether -fhuge-objects is available with this c++ compiler. gcc-29.5 series compilers need this on some platform with large objects.
+ dnl
+ AC_DEFUN([AC_TEST_CHECKFORHUGEOBJECTS],[
+   AC_MSG_CHECKING([whether compiler accepts -fhuge-objects])
+   AC_CACHE_VAL([ac_cv_test_checkforhugeobjects],[
+     ac_cv_test_checkforhugeobjects=`echo "int foo;" > conftest.cc
+ ${CXX} -Werror -fhuge-objects -c conftest.cc 2>/dev/null
+ res=$?
+ rm -f conftest.*
+ echo yes
+ exit $res` 2> /dev/null
+     if [[ $? -ne 0 ]]
+     then ac_cv_test_checkforhugeobjects=no
+     else if [[ -z "$ac_cv_test_checkforhugeobjects" ]]
+          then ac_cv_test_checkforhugeobjects=yes
+     fi ; fi
+   ]) # end of CACHE_VAL
+   AC_MSG_RESULT([${ac_cv_test_checkforhugeobjects}])
+ 
+   if test "X${ac_cv_test_checkforhugeobjects}" != Xno
+   then
+     HUGE_OBJECT_FLAG="-fhuge-objects"
+   else
+     HUGE_OBJECT_FLAG=""
+   fi
+ ]) # end of AC_DEFUN of AC_TEST_CHECKFORHUGEOBJECTS
Index: squid3/configure.in
diff -c squid3/configure.in:1.346 squid3/configure.in:1.347
*** squid3/configure.in:1.346	Fri Aug 15 19:03:09 2003
--- squid3/configure.in	Mon Aug 18 18:15:01 2003
***************
*** 133,138 ****
--- 133,141 ----
  AC_SUBST(SQUID_CFLAGS)
  AC_SUBST(SQUID_CXXFLAGS)
  
+ AC_TEST_CHECKFORHUGEOBJECTS
+ SQUID_CXXFLAGS="$SQUID_CXXFLAGS $HUGE_OBJECT_FLAG"
+ 
  dnl Set LDFLAGS
  if test -z "$PRESET_LDFLAGS"; then
      if test "$GCC" = "yes"; then
Index: squid3/lib/libTrie/configure.in
diff -c squid3/lib/libTrie/configure.in:1.3 squid3/lib/libTrie/configure.in:1.4
*** squid3/lib/libTrie/configure.in:1.3	Mon Jul 14 08:16:14 2003
--- squid3/lib/libTrie/configure.in	Mon Aug 18 18:15:02 2003
***************
*** 4,10 ****
  AM_CONFIG_HEADER([config.h])
  
  SquidInline="yes"
!             AC_ARG_ENABLE(inline,
                            [  --disable-inline        Don't compile trivial methods as inline. Squid
                               is coded with much of the code able to be inlined.<                             Inlining is good for production builds, but not
                               good for development. During development, use
--- 4,10 ----
  AM_CONFIG_HEADER([config.h])
  
  SquidInline="yes"
! AC_ARG_ENABLE(inline,
                            [  --disable-inline        Don't compile trivial methods as inline. Squid
                               is coded with much of the code able to be inlined.<                             Inlining is good for production builds, but not
                               good for development. During development, use
***************
*** 13,62 ****
                               production builds, or load tests, use
                               --enable-inline to have squid make all trivial
                               methods inlinable by the compiler.],
!                              [ if test "$enableval" = "no" ; then
!                              SquidInline="no"
!                              fi
!                              ])
! 
!                              if test "$SquidInline" = "yes" ; then
!                              AC_DEFINE(_SQUID_INLINE_, inline, [Keyword used by squid for inlining methods])
!                              AC_DEFINE(_USE_INLINE_,, [Include inline methods into header file])
!                              else
!                              AC_DEFINE(_SQUID_INLINE_,, [Keyword used by squid for inlining methods])
!                              fi
  
  # Checks for programs.
!                              AC_PROG_CXX
!                              AC_PROG_CC
!                              AC_PROG_MAKE_SET
  # for old automakes - like squid-cache.orgs!
!                              AM_INIT_AUTOMAKE(libTrie, 0.1)
!                              AM_MAINTAINER_MODE
!                              AC_PROG_RANLIB
! 
!                              dnl set useful flags
!                              if test "$GCC" = "yes"; then
!                              TRIE_CFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
!                              TRIE_CXXFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wcomments"
!                              else
!                              TRIE_CFLAGS=
!                              TRIE_CXXFLAGS=
!                              fi
!                              AC_SUBST(TRIE_CFLAGS)
!                              AC_SUBST(TRIE_CXXFLAGS)
  
  # Checks for libraries.
  
  # Checks for header files.
  
  # Checks for typedefs, structures, and compiler characteristics.
!                              AC_C_CONST
!                              AC_TYPE_SIZE_T
  
  # Checks for library functions.
  
!                              AC_CONFIG_FILES([Makefile
!                              include/Makefile
!                              src/Makefile
!                              test/Makefile])
!                              AC_OUTPUT
--- 13,66 ----
                               production builds, or load tests, use
                               --enable-inline to have squid make all trivial
                               methods inlinable by the compiler.],
!    [ if test "$enableval" = "no" ; then
!        SquidInline="no"
!      fi
!   ])
! 
! if test "$SquidInline" = "yes" ; then
!   AC_DEFINE(_SQUID_INLINE_, inline, [Keyword used by squid for inlining methods])
!   AC_DEFINE(_USE_INLINE_,, [Include inline methods into header file])
! else
!   AC_DEFINE(_SQUID_INLINE_,, [Keyword used by squid for inlining methods])
! fi
  
  # Checks for programs.
! AC_PROG_CXX
! AC_PROG_CC
! AC_PROG_MAKE_SET
  # for old automakes - like squid-cache.orgs!
! AM_INIT_AUTOMAKE(libTrie, 0.1)
! AM_MAINTAINER_MODE
! AC_PROG_RANLIB
! 
! dnl set useful flags
! if test "$GCC" = "yes"; then
!    TRIE_CFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
!    TRIE_CXXFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wcomments"
! else
!    TRIE_CFLAGS=
!    TRIE_CXXFLAGS=
! fi
! 
! AC_TEST_CHECKFORHUGEOBJECTS
! TRIE_CXXFLAGS="$TRIE_CXXFLAGS $HUGE_OBJECT_FLAG"
! 
! AC_SUBST(TRIE_CFLAGS)
! AC_SUBST(TRIE_CXXFLAGS)
  
  # Checks for libraries.
  
  # Checks for header files.
  
  # Checks for typedefs, structures, and compiler characteristics.
! AC_C_CONST
! AC_TYPE_SIZE_T
  
  # Checks for library functions.
  
! AC_CONFIG_FILES([Makefile
!                  include/Makefile
!                  src/Makefile
!                  test/Makefile])
! AC_OUTPUT
Index: squid3/aclocal.m4
diff -c squid3/aclocal.m4:1.34 squid3/aclocal.m4:1.35
*** squid3/aclocal.m4:1.34	Mon Jul 28 14:41:02 2003
--- squid3/aclocal.m4	Mon Aug 18 18:20:25 2003
***************
*** 66,71 ****
--- 66,103 ----
  #endif
  ])
  
+ dnl
+ dnl thanks to autogen, for the template..
+ dnl
+ dnl @synopsis  AC_TEST_CHECKFORHUGEOBJECTS
+ dnl
+ dnl Test whether -fhuge-objects is available with this c++ compiler. gcc-29.5 series compilers need this on some platform with large objects.
+ dnl
+ AC_DEFUN([AC_TEST_CHECKFORHUGEOBJECTS],[
+   AC_MSG_CHECKING([whether compiler accepts -fhuge-objects])
+   AC_CACHE_VAL([ac_cv_test_checkforhugeobjects],[
+     ac_cv_test_checkforhugeobjects=`echo "int foo;" > conftest.cc
+ ${CXX} -Werror -fhuge-objects -c conftest.cc 2>/dev/null
+ res=$?
+ rm -f conftest.*
+ echo yes
+ exit $res` 2> /dev/null
+     if [[ $? -ne 0 ]]
+     then ac_cv_test_checkforhugeobjects=no
+     else if [[ -z "$ac_cv_test_checkforhugeobjects" ]]
+          then ac_cv_test_checkforhugeobjects=yes
+     fi ; fi
+   ]) # end of CACHE_VAL
+   AC_MSG_RESULT([${ac_cv_test_checkforhugeobjects}])
+ 
+   if test "X${ac_cv_test_checkforhugeobjects}" != Xno
+   then
+     HUGE_OBJECT_FLAG="-fhuge-objects"
+   else
+     HUGE_OBJECT_FLAG=""
+   fi
+ ]) # end of AC_DEFUN of AC_TEST_CHECKFORHUGEOBJECTS
+ 
  # Do all the work for Automake.                            -*- Autoconf -*-
  
  # This macro actually does too much some checks are only needed if
Index: squid3/configure
diff -c squid3/configure:1.367 squid3/configure:1.368
*** squid3/configure:1.367	Sat Aug 16 18:13:46 2003
--- squid3/configure	Mon Aug 18 18:20:25 2003
***************
*** 1,5 ****
  #! /bin/sh
! # From configure.in Revision: 1.346 .
  # Guess values for system-dependent variables and create Makefiles.
  # Generated by GNU Autoconf 2.57.
  #
--- 1,5 ----
  #! /bin/sh
! # From configure.in Revision: 1.347 .
  # Guess values for system-dependent variables and create Makefiles.
  # Generated by GNU Autoconf 2.57.
  #
***************
*** 4376,4381 ****
--- 4376,4414 ----
  fi
  
  
+ 
+ 
+   echo "$as_me:$LINENO: checking whether compiler accepts -fhuge-objects" >&5
+ echo $ECHO_N "checking whether compiler accepts -fhuge-objects... $ECHO_C" >&6
+   if test "${ac_cv_test_checkforhugeobjects+set}" = set; then
+   echo $ECHO_N "(cached) $ECHO_C" >&6
+ else
+ 
+     ac_cv_test_checkforhugeobjects=`echo "int foo;" > conftest.cc
+ ${CXX} -Werror -fhuge-objects -c conftest.cc 2>/dev/null
+ res=$?
+ rm -f conftest.*
+ echo yes
+ exit $res` 2> /dev/null
+     if [ $? -ne 0 ]
+     then ac_cv_test_checkforhugeobjects=no
+     else if [ -z "$ac_cv_test_checkforhugeobjects" ]
+          then ac_cv_test_checkforhugeobjects=yes
+     fi ; fi
+ 
+ fi
+  # end of CACHE_VAL
+   echo "$as_me:$LINENO: result: ${ac_cv_test_checkforhugeobjects}" >&5
+ echo "${ECHO_T}${ac_cv_test_checkforhugeobjects}" >&6
+ 
+   if test "X${ac_cv_test_checkforhugeobjects}" != Xno
+   then
+     HUGE_OBJECT_FLAG="-fhuge-objects"
+   else
+     HUGE_OBJECT_FLAG=""
+   fi
+ 
+ SQUID_CXXFLAGS="$SQUID_CXXFLAGS $HUGE_OBJECT_FLAG"
  
  if test -z "$PRESET_LDFLAGS"; then
      if test "$GCC" = "yes"; then
Index: squid3/lib/libTrie/Makefile.in
diff -c squid3/lib/libTrie/Makefile.in:1.7 squid3/lib/libTrie/Makefile.in:1.8
*** squid3/lib/libTrie/Makefile.in:1.7	Mon Jul 14 09:14:42 2003
--- squid3/lib/libTrie/Makefile.in	Mon Aug 18 18:20:27 2003
***************
*** 137,145 ****
  	installdirs-recursive install-recursive uninstall-recursive \
  	check-recursive installcheck-recursive
  DIST_COMMON = README AUTHORS COPYING ChangeLog INSTALL Makefile.am \
! 	Makefile.in NEWS aclocal.m4 config.guess config.h.in config.sub \
! 	configure configure.in depcomp install-sh ltmain.sh missing \
! 	mkinstalldirs
  all: config.h
  	$(MAKE) $(AM_MAKEFLAGS) all-recursive
  
--- 137,145 ----
  	installdirs-recursive install-recursive uninstall-recursive \
  	check-recursive installcheck-recursive
  DIST_COMMON = README AUTHORS COPYING ChangeLog INSTALL Makefile.am \
! 	Makefile.in NEWS acinclude.m4 aclocal.m4 config.guess \
! 	config.h.in config.sub configure configure.in depcomp \
! 	install-sh ltmain.sh missing mkinstalldirs
  all: config.h
  	$(MAKE) $(AM_MAKEFLAGS) all-recursive
  
***************
*** 158,164 ****
  $(srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
  	cd $(srcdir) && $(AUTOCONF)
  
! $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ configure.in 
  	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
  
  config.h: stamp-h1
--- 158,164 ----
  $(srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
  	cd $(srcdir) && $(AUTOCONF)
  
! $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ configure.in acinclude.m4
  	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
  
  config.h: stamp-h1
Index: squid3/lib/libTrie/aclocal.m4
diff -c squid3/lib/libTrie/aclocal.m4:1.3 squid3/lib/libTrie/aclocal.m4:1.4
*** squid3/lib/libTrie/aclocal.m4:1.3	Mon May  5 16:57:21 2003
--- squid3/lib/libTrie/aclocal.m4	Mon Aug 18 18:20:27 2003
***************
*** 11,16 ****
--- 11,48 ----
  # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
  # PARTICULAR PURPOSE.
  
+ dnl
+ dnl thanks to autogen, for the template..
+ dnl
+ dnl @synopsis  AC_TEST_CHECKFORHUGEOBJECTS
+ dnl
+ dnl Test whether -fhuge-objects is available with this c++ compiler. gcc-29.5 series compilers need this on some platform with large objects.
+ dnl
+ AC_DEFUN([AC_TEST_CHECKFORHUGEOBJECTS],[
+   AC_MSG_CHECKING([whether compiler accepts -fhuge-objects])
+   AC_CACHE_VAL([ac_cv_test_checkforhugeobjects],[
+     ac_cv_test_checkforhugeobjects=`echo "int foo;" > conftest.cc
+ ${CXX} -Werror -fhuge-objects -c conftest.cc 2>/dev/null
+ res=$?
+ rm -f conftest.*
+ echo yes
+ exit $res` 2> /dev/null
+     if [[ $? -ne 0 ]]
+     then ac_cv_test_checkforhugeobjects=no
+     else if [[ -z "$ac_cv_test_checkforhugeobjects" ]]
+          then ac_cv_test_checkforhugeobjects=yes
+     fi ; fi
+   ]) # end of CACHE_VAL
+   AC_MSG_RESULT([${ac_cv_test_checkforhugeobjects}])
+ 
+   if test "X${ac_cv_test_checkforhugeobjects}" != Xno
+   then
+     HUGE_OBJECT_FLAG="-fhuge-objects"
+   else
+     HUGE_OBJECT_FLAG=""
+   fi
+ ]) # end of AC_DEFUN of AC_TEST_CHECKFORHUGEOBJECTS
+ 
  # Like AC_CONFIG_HEADER, but automatically create stamp file. -*- Autoconf -*-
  
  # Copyright 1996, 1997, 2000, 2001 Free Software Foundation, Inc.
Index: squid3/lib/libTrie/configure
diff -c squid3/lib/libTrie/configure:1.4 squid3/lib/libTrie/configure:1.5
*** squid3/lib/libTrie/configure:1.4	Mon Jul 14 09:14:43 2003
--- squid3/lib/libTrie/configure	Mon Aug 18 18:20:27 2003
***************
*** 1302,1317 ****
  
  
  SquidInline="yes"
!             # Check whether --enable-inline or --disable-inline was given.
  if test "${enable_inline+set}" = set; then
    enableval="$enable_inline"
     if test "$enableval" = "no" ; then
!                              SquidInline="no"
!                              fi
  
  fi;
  
!                              if test "$SquidInline" = "yes" ; then
  
  cat >>confdefs.h <<\_ACEOF
  #define _SQUID_INLINE_ inline
--- 1302,1317 ----
  
  
  SquidInline="yes"
! # Check whether --enable-inline or --disable-inline was given.
  if test "${enable_inline+set}" = set; then
    enableval="$enable_inline"
     if test "$enableval" = "no" ; then
!        SquidInline="no"
!      fi
  
  fi;
  
! if test "$SquidInline" = "yes" ; then
  
  cat >>confdefs.h <<\_ACEOF
  #define _SQUID_INLINE_ inline
***************
*** 1322,1337 ****
  #define _USE_INLINE_
  _ACEOF
  
!                              else
  
  cat >>confdefs.h <<\_ACEOF
  #define _SQUID_INLINE_
  _ACEOF
  
!                              fi
  
  # Checks for programs.
!                              ac_ext=cc
  ac_cpp='$CXXCPP $CPPFLAGS'
  ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
  ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
--- 1322,1337 ----
  #define _USE_INLINE_
  _ACEOF
  
! else
  
  cat >>confdefs.h <<\_ACEOF
  #define _SQUID_INLINE_
  _ACEOF
  
! fi
  
  # Checks for programs.
! ac_ext=cc
  ac_cpp='$CXXCPP $CPPFLAGS'
  ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
  ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
***************
*** 1854,1860 ****
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
  ac_compiler_gnu=$ac_cv_c_compiler_gnu
  
!                              ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
--- 1854,1860 ----
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
  ac_compiler_gnu=$ac_cv_c_compiler_gnu
  
! ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
***************
*** 2519,2525 ****
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
  ac_compiler_gnu=$ac_cv_c_compiler_gnu
  
!                              echo "$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)" >&5
  echo $ECHO_N "checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C" >&6
  set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,./+-,__p_,'`
  if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
--- 2519,2525 ----
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
  ac_compiler_gnu=$ac_cv_c_compiler_gnu
  
! echo "$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)" >&5
  echo $ECHO_N "checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C" >&6
  set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,./+-,__p_,'`
  if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
***************
*** 2549,2555 ****
  fi
  
  # for old automakes - like squid-cache.orgs!
!                              am__api_version="1.7"
  ac_aux_dir=
  for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
    if test -f $ac_dir/install-sh; then
--- 2549,2555 ----
  fi
  
  # for old automakes - like squid-cache.orgs!
! am__api_version="1.7"
  ac_aux_dir=
  for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
    if test -f $ac_dir/install-sh; then
***************
*** 3157,3163 ****
  
  
  
!                              echo "$as_me:$LINENO: checking whether to enable maintainer-specific portions of Makefiles" >&5
  echo $ECHO_N "checking whether to enable maintainer-specific portions of Makefiles... $ECHO_C" >&6
      # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
  if test "${enable_maintainer_mode+set}" = set; then
--- 3157,3163 ----
  
  
  
! echo "$as_me:$LINENO: checking whether to enable maintainer-specific portions of Makefiles" >&5
  echo $ECHO_N "checking whether to enable maintainer-specific portions of Makefiles... $ECHO_C" >&6
      # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
  if test "${enable_maintainer_mode+set}" = set; then
***************
*** 3181,3187 ****
    MAINT=$MAINTAINER_MODE_TRUE
  
  
!                              if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ac_tool_prefix}ranlib; ac_word=$2
  echo "$as_me:$LINENO: checking for $ac_word" >&5
--- 3181,3187 ----
    MAINT=$MAINTAINER_MODE_TRUE
  
  
! if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ac_tool_prefix}ranlib; ac_word=$2
  echo "$as_me:$LINENO: checking for $ac_word" >&5
***************
*** 3262,3274 ****
  fi
  
  
!                                                           if test "$GCC" = "yes"; then
!                              TRIE_CFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
!                              TRIE_CXXFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wcomments"
!                              else
!                              TRIE_CFLAGS=
!                              TRIE_CXXFLAGS=
!                              fi
  
  
  
--- 3262,3308 ----
  fi
  
  
! if test "$GCC" = "yes"; then
!    TRIE_CFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wmissing-declarations -Wcomments"
!    TRIE_CXXFLAGS="-Werror -Wall -Wpointer-arith -Wwrite-strings -Wmissing-prototypes -Wcomments"
! else
!    TRIE_CFLAGS=
!    TRIE_CXXFLAGS=
! fi
! 
! 
!   echo "$as_me:$LINENO: checking whether compiler accepts -fhuge-objects" >&5
! echo $ECHO_N "checking whether compiler accepts -fhuge-objects... $ECHO_C" >&6
!   if test "${ac_cv_test_checkforhugeobjects+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
! 
!     ac_cv_test_checkforhugeobjects=`echo "int foo;" > conftest.cc
! ${CXX} -Werror -fhuge-objects -c conftest.cc 2>/dev/null
! res=$?
! rm -f conftest.*
! echo yes
! exit $res` 2> /dev/null
!     if [ $? -ne 0 ]
!     then ac_cv_test_checkforhugeobjects=no
!     else if [ -z "$ac_cv_test_checkforhugeobjects" ]
!          then ac_cv_test_checkforhugeobjects=yes
!     fi ; fi
! 
! fi
!  # end of CACHE_VAL
!   echo "$as_me:$LINENO: result: ${ac_cv_test_checkforhugeobjects}" >&5
! echo "${ECHO_T}${ac_cv_test_checkforhugeobjects}" >&6
! 
!   if test "X${ac_cv_test_checkforhugeobjects}" != Xno
!   then
!     HUGE_OBJECT_FLAG="-fhuge-objects"
!   else
!     HUGE_OBJECT_FLAG=""
!   fi
! 
! TRIE_CXXFLAGS="$TRIE_CXXFLAGS $HUGE_OBJECT_FLAG"
! 
  
  
  
***************
*** 3376,3382 ****
  
  fi
  
!                              ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
--- 3410,3416 ----
  
  fi
  
! ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
  ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
***************
*** 3909,3917 ****
  
  # Checks for library functions.
  
!                                                                      ac_config_files="$ac_config_files Makefile include/Makefile src/Makefile test/Makefile"
  
!                              cat >confcache <<\_ACEOF
  # This file is a shell script that caches the results of configure
  # tests run on this system so they can be shared between configure
  # scripts and configure runs, see configure's option --config-cache.
--- 3943,3951 ----
  
  # Checks for library functions.
  
!                                         ac_config_files="$ac_config_files Makefile include/Makefile src/Makefile test/Makefile"
  
! cat >confcache <<\_ACEOF
  # This file is a shell script that caches the results of configure
  # tests run on this system so they can be shared between configure
  # scripts and configure runs, see configure's option --config-cache.
