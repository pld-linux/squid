Index: squid/src/stat.c
diff -c squid/src/stat.c:1.351.2.8 squid/src/stat.c:1.351.2.9
*** squid/src/stat.c:1.351.2.8	Sun Jan 26 22:00:46 2003
--- squid/src/stat.c	Sun Jun 22 15:32:10 2003
***************
*** 950,955 ****
--- 950,957 ----
  #elif HAVE_MALLINFO && HAVE_STRUCT_MALLINFO
  	struct mallinfo mp = mallinfo();
  	i = mp.arena;
+ #elif HAVE_SBRK
+ 	i = (size_t) ((char *) sbrk(0) - (char *) sbrk_start);
  #endif
  	if (Config.warnings.high_memory < i)
  	    debug(18, 0) ("WARNING: Memory usage at %d MB\n", i >> 20);
