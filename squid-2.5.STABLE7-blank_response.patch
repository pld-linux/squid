Index: squid/src/HttpReply.c
diff -c squid/src/HttpReply.c:1.49.2.2 squid/src/HttpReply.c:1.49.2.3
*** squid/src/HttpReply.c:1.49.2.2	Tue Oct  5 15:31:25 2004
--- squid/src/HttpReply.c	Sun Nov  7 08:26:59 2004
***************
*** 452,458 ****
  int
  httpReplyBodySize(method_t method, HttpReply * reply)
  {
!     if (METHOD_HEAD == method)
  	return 0;
      else if (reply->sline.status == HTTP_OK)
  	(void) 0;		/* common case, continue */
--- 452,460 ----
  int
  httpReplyBodySize(method_t method, HttpReply * reply)
  {
!     if (reply->sline.version.major < 1)
! 	return -1;
!     else if (METHOD_HEAD == method)
  	return 0;
      else if (reply->sline.status == HTTP_OK)
  	(void) 0;		/* common case, continue */
