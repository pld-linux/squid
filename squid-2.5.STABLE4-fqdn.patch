Index: squid/src/fqdncache.c
diff -c squid/src/fqdncache.c:1.149.2.2 squid/src/fqdncache.c:1.149.2.3
*** squid/src/fqdncache.c:1.149.2.2	Fri Nov 28 12:14:32 2003
--- squid/src/fqdncache.c	Thu Dec  4 03:10:12 2003
***************
*** 301,307 ****
  	    continue;
  	na++;
  	f.flags.negcached = 0;
! 	f.names[0] = xstrdup(answers[k].rdata);
  	f.name_count = 1;
  	if (answers[k].ttl < Config.positiveDnsTtl)
  	    f.expires = squid_curtime + answers[k].ttl;
--- 301,307 ----
  	    continue;
  	na++;
  	f.flags.negcached = 0;
! 	f.names[0] = xstrndup(answers[k].rdata, answers[k].rdlength);
  	f.name_count = 1;
  	if (answers[k].ttl < Config.positiveDnsTtl)
  	    f.expires = squid_curtime + answers[k].ttl;
