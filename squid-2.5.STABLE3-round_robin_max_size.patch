Index: squid/src/store_dir.c
diff -c squid/src/store_dir.c:1.135.2.1 squid/src/store_dir.c:1.135.2.2
*** squid/src/store_dir.c:1.135.2.1	Mon Apr  1 05:33:47 2002
--- squid/src/store_dir.c	Thu Jul 17 09:39:49 2003
***************
*** 153,159 ****
  	    continue;
  	if (sd->cur_size > sd->max_size)
  	    continue;
! 	if (!storeDirValidSwapDirSize(i, objsize))
  	    continue;
  	/* check for error or overload condition */
  	load = sd->checkobj(sd, e);
--- 153,159 ----
  	    continue;
  	if (sd->cur_size > sd->max_size)
  	    continue;
! 	if (!storeDirValidSwapDirSize(dirn, objsize))
  	    continue;
  	/* check for error or overload condition */
  	load = sd->checkobj(sd, e);
